<#include "/_utils.html">
<#import "/spring.ftl" as spring />

<#macro layout_base pageId titleKey forms=false>
	<#if forms>
		<#include "/_forms.html">
	</#if>
	<@comment text="layout_base" />
	<!DOCTYPE html>
	<@comment text="${pageId}" />
	<#-- TODO Language -->
	<html lang="en">
		<head>
			<base href="<@spring.url relativeUrl="/" />" />
			<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
			<#-- ExtJS resources -->
			<#-- TODO Debug mode configurable -->
			<script src="extjs/ext-debug.js" type="text/javascript"></script>
			<link rel="stylesheet/less" type="text/css" href="extjs/resources/css/ext-all-debug.css" />
			<link rel="stylesheet" type="text/css" href="less/ui.less" />
			<script src="scripts/less-1.3.0.min.js" type="text/javascript"></script>
			<#if forms>
				<script src="scripts/forms.js" type="text/javascript"></script>
			</#if>
			<title>${loc("${titleKey}")} - ${loc("app.title")} ${loc("app.version")}</title>
	    </head>
		<body>
			<#nested>
		</body>
	</html>
</#macro>
	
<#macro layout_simple pageId titleKey forms=false>
	<@comment text="layout_simple" />
	<@layout_base pageId="${pageId}" titleKey="${titleKey}" forms=forms>
		<article class="page">
			<header>
				${loc("${titleKey}")}
			</header>
			<section>
				<#nested>
			</section>
		</article>
	</@layout_base>
</#macro>