<#include "/_layouts.html">
<@layout_simple pageId="policy" titleKey="policy.title">
	<article class="policy">
		<header>
			<h1>${policy.name?html}</h1>
		</header>
		<section class="form">
			<table>
				<tbody>
					<tr>
						<td class="label">
							${loc("model.policy.uid")}
						</td>
						<td id="uid" class="value">
							${policy.uid}
						</td>
					</tr>
					<tr>
						<td class="label">
							${loc("model.policy.name")}
						</td>
						<td id="name" class="value">
							${policy.name?html}
						</td>
					</tr>
					<tr>
						<td class="label">
							${loc("model.policy.description")}
						</td>
						<td id="description" class="value">
							${policy.description?html}
						</td>
					</tr>
				</tbody>
			</table>
		</section>
		<section class="groups">
			<header>
				<h1>Groups</h1>
			</header>
			<dl>
				<#list policy.groups as group>
					<dt>${group.name?html}</dt>
					<#list group.members as member>
						<dd>${member?html}</dd>
					</#list>
				</#list>
			</dl>
		</section>
		<section class="rules">
			<header>
				<h1>Rules</h1>
			</header>
			<#list policy.rules as ruleset>
				<section class="ruleset">
					<header>
						<h1>${ruleset.path}</h1>
						<p>${ruleset.description?html}</p>
						<p><@disabled value=ruleset.disabled /></p>
					</header>
					<#list ruleset.rules as rule>
						<section class="rule">
							<header>
								<h1>${rule.ruleId?html}</h1>
								<p><@disabled value=rule.disabled /></p>
							</header>
							<#if rule.parameters??>
								<p>
									<#list rule.parameters as param>
										<span class="param">
											${param.name?html}
											=
											${param.value?html}
										</span>
									</#list>
								</p>
							</#if>
							<p>${rule.description?html}</p>
						</section>
					</#list>
				</section>
			</#list>
		</section>
	</article>
	<nav>
		<a href="ui/">${loc("general.cancel")}</a> 
	</nav>
</@layout_simple>