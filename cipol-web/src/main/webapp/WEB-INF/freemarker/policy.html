<#include "/_layouts.html">
<@layout_simple pageId="policy" titleKey="policy.title">
	<article class="policy">
		<section class="policy">
			<header>
				${policy.name?html}
			</header>
			<div>
				<table>
					<tbody>
						<tr>
							<td class="label">
								${loc("model.policy.uid")}
							</td>
							<td id="uid" class="value">
								${policy.uid}
							</td>
						</tr>
						<tr>
							<td class="label">
								${loc("model.policy.name")}
							</td>
							<td id="name" class="value">
								${policy.name?html}
							</td>
						</tr>
						<tr>
							<td class="label">
								${loc("model.policy.description")}
							</td>
							<td id="description" class="value">
								${policy.description?html}
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</section>
		<section class="policy policy-groups">
			<header>
				Groups
			</header>
			<div>
				<table>
					<tbody>
						<#list policy.groups as group>
							<tr>
								<th>
									${group.name?html}
								</th>
								<#list group.members as member>
									<td>${member?html}</td>
								</#list>
							</tr>
						</#list>
					</tbody>
				</table>
			</div>
		</section>
		<section class="policy policy-rules">
			<header>
				Rules
			</header>
				<div>
				<#list policy.rules as ruleset>
					<section class="policy-ruleset">
						<header>
							<span class="policy-ruleset-path">${ruleset.path}</span>
							<span class="policy-ruleset-description">${ruleset.description?html}</span>
							<@disabled value=ruleset.disabled />
						</header>
						<div>
							<#list ruleset.rules as rule>
								<section class="policy-rule">
									<header>
										<span class="policy-rule-name">${rule.ruleId?html}</span>
										<span class="policy-rule-description">${rule.description?html}</span>
										<@disabled value=rule.disabled />
									</header>
									<#if rule.parameters??>
										<div class="parameters">
											<#list rule.parameters as param>
												<span class="param">
													<span class="param-name">
														${param.name?html}
													</span>
													=
													<span class="param-value">
														${param.value?html}
													</span>
												</span>
											</#list>
										</div>
									</#if>
								</section>
							</#list>
						</div>
					</section>
				</#list>
			</div>
		</section>
	</article>
	<nav>
		<a href="ui/">${loc("general.cancel")}</a> 
	</nav>
</@layout_simple>